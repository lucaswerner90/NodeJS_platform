"use strict";var cov_1e1zkd6vqh=function(){var path='/Users/je10617/Desktop/express-authenticate/users/_common/user.js',hash='f67bd8bfd8d4c871cdf82e7ddd46c9f2555ae0a0',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/je10617/Desktop/express-authenticate/users/_common/user.js',statementMap:{'0':{start:{line:3,column:15},end:{line:3,column:43}},'1':{start:{line:4,column:11},end:{line:4,column:44}},'2':{start:{line:5,column:22},end:{line:5,column:67}},'3':{start:{line:6,column:25},end:{line:6,column:62}},'4':{start:{line:8,column:0},end:{line:8,column:36}},'5':{start:{line:21,column:4},end:{line:21,column:42}},'6':{start:{line:22,column:4},end:{line:22,column:55}},'7':{start:{line:23,column:4},end:{line:23,column:39}},'8':{start:{line:24,column:4},end:{line:24,column:26}},'9':{start:{line:25,column:4},end:{line:25,column:34}},'10':{start:{line:26,column:4},end:{line:26,column:41}},'11':{start:{line:40,column:16},end:{line:40,column:20}},'12':{start:{line:41,column:4},end:{line:41,column:45}},'13':{start:{line:42,column:4},end:{line:42,column:36}},'14':{start:{line:52,column:16},end:{line:52,column:20}},'15':{start:{line:54,column:4},end:{line:54,column:54}},'16':{start:{line:54,column:31},end:{line:54,column:54}},'17':{start:{line:56,column:4},end:{line:75,column:7}},'18':{start:{line:58,column:8},end:{line:70,column:11}},'19':{start:{line:59,column:10},end:{line:66,column:13}},'20':{start:{line:62,column:12},end:{line:62,column:41}},'21':{start:{line:65,column:12},end:{line:65,column:24}},'22':{start:{line:69,column:10},end:{line:69,column:22}},'23':{start:{line:84,column:16},end:{line:84,column:20}},'24':{start:{line:85,column:4},end:{line:85,column:48}},'25':{start:{line:95,column:16},end:{line:95,column:20}},'26':{start:{line:96,column:4},end:{line:104,column:7}},'27':{start:{line:97,column:8},end:{line:102,column:11}},'28':{start:{line:98,column:10},end:{line:98,column:27}},'29':{start:{line:101,column:10},end:{line:101,column:22}},'30':{start:{line:113,column:14},end:{line:113,column:18}},'31':{start:{line:114,column:4},end:{line:127,column:7}},'32':{start:{line:116,column:6},end:{line:126,column:9}},'33':{start:{line:117,column:8},end:{line:125,column:9}},'34':{start:{line:120,column:10},end:{line:120,column:31}},'35':{start:{line:122,column:10},end:{line:122,column:46}},'36':{start:{line:123,column:10},end:{line:123,column:38}},'37':{start:{line:136,column:16},end:{line:136,column:20}},'38':{start:{line:137,column:4},end:{line:163,column:7}},'39':{start:{line:138,column:24},end:{line:138,column:26}},'40':{start:{line:139,column:6},end:{line:139,column:130}},'41':{start:{line:140,column:6},end:{line:140,column:142}},'42':{start:{line:141,column:6},end:{line:141,column:137}},'43':{start:{line:142,column:6},end:{line:142,column:135}},'44':{start:{line:143,column:6},end:{line:143,column:136}},'45':{start:{line:144,column:6},end:{line:144,column:152}},'46':{start:{line:145,column:6},end:{line:145,column:137}},'47':{start:{line:148,column:6},end:{line:161,column:9}},'48':{start:{line:149,column:22},end:{line:149,column:34}},'49':{start:{line:150,column:8},end:{line:150,column:48}},'50':{start:{line:151,column:8},end:{line:151,column:36}},'51':{start:{line:152,column:8},end:{line:152,column:48}},'52':{start:{line:153,column:8},end:{line:153,column:35}},'53':{start:{line:154,column:8},end:{line:154,column:37}},'54':{start:{line:155,column:8},end:{line:155,column:44}},'55':{start:{line:156,column:8},end:{line:156,column:25}},'56':{start:{line:160,column:8},end:{line:160,column:22}},'57':{start:{line:171,column:16},end:{line:171,column:20}},'58':{start:{line:172,column:4},end:{line:190,column:7}},'59':{start:{line:174,column:6},end:{line:189,column:9}},'60':{start:{line:175,column:8},end:{line:184,column:9}},'61':{start:{line:176,column:10},end:{line:181,column:13}},'62':{start:{line:178,column:12},end:{line:178,column:63}},'63':{start:{line:180,column:12},end:{line:180,column:26}},'64':{start:{line:183,column:10},end:{line:183,column:65}},'65':{start:{line:188,column:8},end:{line:188,column:20}},'66':{start:{line:202,column:16},end:{line:202,column:20}},'67':{start:{line:203,column:4},end:{line:217,column:7}},'68':{start:{line:204,column:6},end:{line:216,column:9}},'69':{start:{line:206,column:8},end:{line:212,column:9}},'70':{start:{line:209,column:10},end:{line:211,column:13}},'71':{start:{line:210,column:12},end:{line:210,column:26}},'72':{start:{line:215,column:8},end:{line:215,column:22}},'73':{start:{line:226,column:16},end:{line:226,column:20}},'74':{start:{line:227,column:4},end:{line:234,column:7}},'75':{start:{line:228,column:6},end:{line:233,column:9}},'76':{start:{line:229,column:8},end:{line:229,column:22}},'77':{start:{line:232,column:8},end:{line:232,column:22}},'78':{start:{line:243,column:16},end:{line:243,column:20}},'79':{start:{line:244,column:4},end:{line:287,column:7}},'80':{start:{line:245,column:6},end:{line:286,column:9}},'81':{start:{line:247,column:25},end:{line:267,column:9}},'82':{start:{line:268,column:39},end:{line:268,column:41}},'83':{start:{line:269,column:8},end:{line:271,column:9}},'84':{start:{line:270,column:10},end:{line:270,column:146}},'85':{start:{line:272,column:8},end:{line:281,column:11}},'86':{start:{line:273,column:10},end:{line:275,column:11}},'87':{start:{line:274,column:12},end:{line:274,column:63}},'88':{start:{line:276,column:10},end:{line:276,column:37}},'89':{start:{line:277,column:10},end:{line:277,column:32}},'90':{start:{line:280,column:10},end:{line:280,column:22}},'91':{start:{line:285,column:8},end:{line:285,column:20}},'92':{start:{line:297,column:16},end:{line:297,column:20}},'93':{start:{line:298,column:4},end:{line:305,column:7}},'94':{start:{line:299,column:6},end:{line:304,column:9}},'95':{start:{line:300,column:8},end:{line:300,column:22}},'96':{start:{line:303,column:8},end:{line:303,column:20}},'97':{start:{line:317,column:16},end:{line:317,column:20}},'98':{start:{line:319,column:4},end:{line:329,column:7}},'99':{start:{line:320,column:6},end:{line:327,column:8}},'100':{start:{line:321,column:8},end:{line:321,column:42}},'101':{start:{line:322,column:8},end:{line:322,column:45}},'102':{start:{line:323,column:8},end:{line:323,column:22}},'103':{start:{line:326,column:8},end:{line:326,column:22}},'104':{start:{line:339,column:16},end:{line:339,column:20}},'105':{start:{line:341,column:4},end:{line:350,column:7}},'106':{start:{line:342,column:6},end:{line:349,column:9}},'107':{start:{line:344,column:8},end:{line:344,column:43}},'108':{start:{line:345,column:8},end:{line:345,column:22}},'109':{start:{line:348,column:8},end:{line:348,column:20}},'110':{start:{line:360,column:16},end:{line:360,column:20}},'111':{start:{line:362,column:4},end:{line:371,column:7}},'112':{start:{line:363,column:6},end:{line:370,column:9}},'113':{start:{line:365,column:8},end:{line:365,column:47}},'114':{start:{line:366,column:8},end:{line:366,column:22}},'115':{start:{line:369,column:8},end:{line:369,column:20}},'116':{start:{line:381,column:16},end:{line:381,column:20}},'117':{start:{line:382,column:4},end:{line:440,column:7}},'118':{start:{line:384,column:6},end:{line:384,column:75}},'119':{start:{line:385,column:6},end:{line:385,column:66}},'120':{start:{line:386,column:6},end:{line:386,column:105}},'121':{start:{line:387,column:6},end:{line:387,column:59}},'122':{start:{line:388,column:6},end:{line:388,column:50}},'123':{start:{line:390,column:6},end:{line:392,column:7}},'124':{start:{line:391,column:8},end:{line:391,column:35}},'125':{start:{line:394,column:6},end:{line:437,column:9}},'126':{start:{line:397,column:8},end:{line:397,column:60}},'127':{start:{line:398,column:8},end:{line:436,column:11}},'128':{start:{line:399,column:10},end:{line:435,column:13}},'129':{start:{line:402,column:12},end:{line:402,column:69}},'130':{start:{line:404,column:12},end:{line:430,column:15}},'131':{start:{line:407,column:14},end:{line:429,column:15}},'132':{start:{line:408,column:16},end:{line:408,column:43}},'133':{start:{line:411,column:16},end:{line:427,column:19}},'134':{start:{line:418,column:18},end:{line:425,column:21}},'135':{start:{line:421,column:20},end:{line:423,column:23}},'136':{start:{line:422,column:22},end:{line:422,column:49}},'137':{start:{line:431,column:12},end:{line:431,column:26}},'138':{start:{line:433,column:12},end:{line:433,column:33}},'139':{start:{line:434,column:12},end:{line:434,column:26}},'140':{start:{line:447,column:16},end:{line:447,column:20}},'141':{start:{line:449,column:4},end:{line:524,column:7}},'142':{start:{line:452,column:6},end:{line:452,column:57}},'143':{start:{line:453,column:6},end:{line:453,column:75}},'144':{start:{line:454,column:6},end:{line:454,column:66}},'145':{start:{line:455,column:6},end:{line:455,column:105}},'146':{start:{line:457,column:6},end:{line:457,column:59}},'147':{start:{line:458,column:6},end:{line:458,column:50}},'148':{start:{line:460,column:6},end:{line:462,column:7}},'149':{start:{line:461,column:8},end:{line:461,column:35}},'150':{start:{line:464,column:6},end:{line:521,column:9}},'151':{start:{line:465,column:8},end:{line:465,column:60}},'152':{start:{line:467,column:8},end:{line:516,column:11}},'153':{start:{line:469,column:10},end:{line:469,column:67}},'154':{start:{line:471,column:10},end:{line:512,column:11}},'155':{start:{line:472,column:12},end:{line:502,column:15}},'156':{start:{line:473,column:16},end:{line:497,column:19}},'157':{start:{line:477,column:18},end:{line:495,column:21}},'158':{start:{line:478,column:20},end:{line:493,column:21}},'159':{start:{line:479,column:22},end:{line:479,column:49}},'160':{start:{line:480,column:22},end:{line:492,column:25}},'161':{start:{line:486,column:24},end:{line:486,column:79}},'162':{start:{line:487,column:24},end:{line:487,column:65}},'163':{start:{line:491,column:24},end:{line:491,column:41}},'164':{start:{line:496,column:18},end:{line:496,column:32}},'165':{start:{line:501,column:14},end:{line:501,column:26}},'166':{start:{line:505,column:12},end:{line:511,column:15}},'167':{start:{line:507,column:14},end:{line:507,column:28}},'168':{start:{line:510,column:14},end:{line:510,column:26}},'169':{start:{line:515,column:10},end:{line:515,column:24}},'170':{start:{line:520,column:8},end:{line:520,column:20}},'171':{start:{line:531,column:0},end:{line:531,column:20}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:36},end:{line:28,column:3}},line:19},'1':{name:'(anonymous_1)',decl:{start:{line:31,column:2},end:{line:31,column:3}},loc:{start:{line:31,column:12},end:{line:33,column:3}},line:31},'2':{name:'(anonymous_2)',decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:22},end:{line:44,column:3}},line:39},'3':{name:'(anonymous_3)',decl:{start:{line:50,column:2},end:{line:50,column:3}},loc:{start:{line:50,column:21},end:{line:76,column:3}},line:50},'4':{name:'(anonymous_4)',decl:{start:{line:56,column:23},end:{line:56,column:24}},loc:{start:{line:56,column:41},end:{line:75,column:5}},line:56},'5':{name:'(anonymous_5)',decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:45},end:{line:67,column:9}},line:58},'6':{name:'(anonymous_6)',decl:{start:{line:61,column:17},end:{line:61,column:18}},loc:{start:{line:61,column:25},end:{line:63,column:11}},line:61},'7':{name:'(anonymous_7)',decl:{start:{line:64,column:17},end:{line:64,column:18}},loc:{start:{line:64,column:24},end:{line:66,column:11}},line:64},'8':{name:'(anonymous_8)',decl:{start:{line:68,column:15},end:{line:68,column:16}},loc:{start:{line:68,column:22},end:{line:70,column:9}},line:68},'9':{name:'(anonymous_9)',decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:33},end:{line:86,column:3}},line:83},'10':{name:'(anonymous_10)',decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:17},end:{line:105,column:3}},line:93},'11':{name:'(anonymous_11)',decl:{start:{line:96,column:23},end:{line:96,column:24}},loc:{start:{line:96,column:41},end:{line:104,column:5}},line:96},'12':{name:'(anonymous_12)',decl:{start:{line:97,column:119},end:{line:97,column:120}},loc:{start:{line:97,column:127},end:{line:99,column:9}},line:97},'13':{name:'(anonymous_13)',decl:{start:{line:100,column:15},end:{line:100,column:16}},loc:{start:{line:100,column:22},end:{line:102,column:9}},line:100},'14':{name:'(anonymous_14)',decl:{start:{line:112,column:2},end:{line:112,column:3}},loc:{start:{line:112,column:24},end:{line:129,column:3}},line:112},'15':{name:'(anonymous_15)',decl:{start:{line:114,column:23},end:{line:114,column:24}},loc:{start:{line:114,column:49},end:{line:127,column:5}},line:114},'16':{name:'(anonymous_16)',decl:{start:{line:116,column:94},end:{line:116,column:95}},loc:{start:{line:116,column:102},end:{line:126,column:7}},line:116},'17':{name:'(anonymous_17)',decl:{start:{line:135,column:2},end:{line:135,column:3}},loc:{start:{line:135,column:33},end:{line:164,column:3}},line:135},'18':{name:'(anonymous_18)',decl:{start:{line:137,column:23},end:{line:137,column:24}},loc:{start:{line:137,column:41},end:{line:163,column:5}},line:137},'19':{name:'(anonymous_19)',decl:{start:{line:148,column:38},end:{line:148,column:39}},loc:{start:{line:148,column:48},end:{line:159,column:7}},line:148},'20':{name:'(anonymous_20)',decl:{start:{line:159,column:15},end:{line:159,column:16}},loc:{start:{line:159,column:24},end:{line:161,column:7}},line:159},'21':{name:'(anonymous_21)',decl:{start:{line:170,column:2},end:{line:170,column:3}},loc:{start:{line:170,column:16},end:{line:193,column:3}},line:170},'22':{name:'(anonymous_22)',decl:{start:{line:172,column:23},end:{line:172,column:24}},loc:{start:{line:172,column:41},end:{line:190,column:5}},line:172},'23':{name:'(anonymous_23)',decl:{start:{line:174,column:33},end:{line:174,column:34}},loc:{start:{line:174,column:43},end:{line:186,column:7}},line:174},'24':{name:'(anonymous_24)',decl:{start:{line:176,column:107},end:{line:176,column:108}},loc:{start:{line:176,column:115},end:{line:181,column:11}},line:176},'25':{name:'(anonymous_25)',decl:{start:{line:187,column:13},end:{line:187,column:14}},loc:{start:{line:187,column:20},end:{line:189,column:7}},line:187},'26':{name:'(anonymous_26)',decl:{start:{line:201,column:2},end:{line:201,column:3}},loc:{start:{line:201,column:31},end:{line:219,column:3}},line:201},'27':{name:'(anonymous_27)',decl:{start:{line:203,column:23},end:{line:203,column:24}},loc:{start:{line:203,column:49},end:{line:217,column:5}},line:203},'28':{name:'(anonymous_28)',decl:{start:{line:204,column:126},end:{line:204,column:127}},loc:{start:{line:204,column:134},end:{line:213,column:7}},line:204},'29':{name:'(anonymous_29)',decl:{start:{line:209,column:97},end:{line:209,column:98}},loc:{start:{line:209,column:101},end:{line:211,column:11}},line:209},'30':{name:'(anonymous_30)',decl:{start:{line:214,column:13},end:{line:214,column:14}},loc:{start:{line:214,column:22},end:{line:216,column:7}},line:214},'31':{name:'(anonymous_31)',decl:{start:{line:225,column:2},end:{line:225,column:3}},loc:{start:{line:225,column:16},end:{line:235,column:3}},line:225},'32':{name:'(anonymous_32)',decl:{start:{line:227,column:23},end:{line:227,column:24}},loc:{start:{line:227,column:49},end:{line:234,column:5}},line:227},'33':{name:'(anonymous_33)',decl:{start:{line:228,column:93},end:{line:228,column:94}},loc:{start:{line:228,column:101},end:{line:230,column:7}},line:228},'34':{name:'(anonymous_34)',decl:{start:{line:231,column:13},end:{line:231,column:14}},loc:{start:{line:231,column:22},end:{line:233,column:7}},line:231},'35':{name:'(anonymous_35)',decl:{start:{line:242,column:2},end:{line:242,column:3}},loc:{start:{line:242,column:29},end:{line:288,column:3}},line:242},'36':{name:'(anonymous_36)',decl:{start:{line:244,column:23},end:{line:244,column:24}},loc:{start:{line:244,column:41},end:{line:287,column:5}},line:244},'37':{name:'(anonymous_37)',decl:{start:{line:245,column:102},end:{line:245,column:103}},loc:{start:{line:245,column:110},end:{line:283,column:7}},line:245},'38':{name:'(anonymous_38)',decl:{start:{line:272,column:53},end:{line:272,column:54}},loc:{start:{line:272,column:63},end:{line:278,column:9}},line:272},'39':{name:'(anonymous_39)',decl:{start:{line:279,column:15},end:{line:279,column:16}},loc:{start:{line:279,column:22},end:{line:281,column:9}},line:279},'40':{name:'(anonymous_40)',decl:{start:{line:284,column:13},end:{line:284,column:14}},loc:{start:{line:284,column:20},end:{line:286,column:7}},line:284},'41':{name:'(anonymous_41)',decl:{start:{line:296,column:2},end:{line:296,column:3}},loc:{start:{line:296,column:22},end:{line:307,column:3}},line:296},'42':{name:'(anonymous_42)',decl:{start:{line:298,column:23},end:{line:298,column:24}},loc:{start:{line:298,column:41},end:{line:305,column:5}},line:298},'43':{name:'(anonymous_43)',decl:{start:{line:299,column:55},end:{line:299,column:56}},loc:{start:{line:299,column:63},end:{line:301,column:7}},line:299},'44':{name:'(anonymous_44)',decl:{start:{line:302,column:13},end:{line:302,column:14}},loc:{start:{line:302,column:20},end:{line:304,column:7}},line:302},'45':{name:'(anonymous_45)',decl:{start:{line:315,column:2},end:{line:315,column:3}},loc:{start:{line:315,column:21},end:{line:330,column:3}},line:315},'46':{name:'(anonymous_46)',decl:{start:{line:319,column:23},end:{line:319,column:24}},loc:{start:{line:319,column:41},end:{line:329,column:5}},line:319},'47':{name:'(anonymous_47)',decl:{start:{line:320,column:91},end:{line:320,column:92}},loc:{start:{line:320,column:99},end:{line:324,column:7}},line:320},'48':{name:'(anonymous_48)',decl:{start:{line:325,column:13},end:{line:325,column:14}},loc:{start:{line:325,column:22},end:{line:327,column:7}},line:325},'49':{name:'(anonymous_49)',decl:{start:{line:338,column:2},end:{line:338,column:3}},loc:{start:{line:338,column:28},end:{line:351,column:3}},line:338},'50':{name:'(anonymous_50)',decl:{start:{line:341,column:23},end:{line:341,column:24}},loc:{start:{line:341,column:41},end:{line:350,column:5}},line:341},'51':{name:'(anonymous_51)',decl:{start:{line:342,column:97},end:{line:342,column:98}},loc:{start:{line:342,column:101},end:{line:346,column:7}},line:342},'52':{name:'(anonymous_52)',decl:{start:{line:347,column:13},end:{line:347,column:14}},loc:{start:{line:347,column:20},end:{line:349,column:7}},line:347},'53':{name:'(anonymous_53)',decl:{start:{line:358,column:2},end:{line:358,column:3}},loc:{start:{line:358,column:25},end:{line:372,column:3}},line:358},'54':{name:'(anonymous_54)',decl:{start:{line:362,column:23},end:{line:362,column:24}},loc:{start:{line:362,column:41},end:{line:371,column:5}},line:362},'55':{name:'(anonymous_55)',decl:{start:{line:363,column:95},end:{line:363,column:96}},loc:{start:{line:363,column:99},end:{line:367,column:7}},line:363},'56':{name:'(anonymous_56)',decl:{start:{line:368,column:13},end:{line:368,column:14}},loc:{start:{line:368,column:20},end:{line:370,column:7}},line:368},'57':{name:'(anonymous_57)',decl:{start:{line:379,column:2},end:{line:379,column:3}},loc:{start:{line:379,column:21},end:{line:441,column:3}},line:379},'58':{name:'(anonymous_58)',decl:{start:{line:382,column:23},end:{line:382,column:24}},loc:{start:{line:382,column:41},end:{line:440,column:5}},line:382},'59':{name:'(anonymous_59)',decl:{start:{line:394,column:96},end:{line:394,column:97}},loc:{start:{line:394,column:104},end:{line:437,column:7}},line:394},'60':{name:'(anonymous_60)',decl:{start:{line:398,column:162},end:{line:398,column:163}},loc:{start:{line:398,column:166},end:{line:436,column:9}},line:398},'61':{name:'(anonymous_61)',decl:{start:{line:399,column:84},end:{line:399,column:85}},loc:{start:{line:399,column:88},end:{line:432,column:11}},line:399},'62':{name:'(anonymous_62)',decl:{start:{line:404,column:86},end:{line:404,column:87}},loc:{start:{line:404,column:94},end:{line:430,column:13}},line:404},'63':{name:'(anonymous_63)',decl:{start:{line:414,column:24},end:{line:414,column:25}},loc:{start:{line:414,column:28},end:{line:427,column:17}},line:414},'64':{name:'(anonymous_64)',decl:{start:{line:418,column:99},end:{line:418,column:100}},loc:{start:{line:418,column:103},end:{line:425,column:19}},line:418},'65':{name:'(anonymous_65)',decl:{start:{line:421,column:61},end:{line:421,column:62}},loc:{start:{line:421,column:65},end:{line:423,column:21}},line:421},'66':{name:'(anonymous_66)',decl:{start:{line:432,column:19},end:{line:432,column:20}},loc:{start:{line:432,column:28},end:{line:435,column:11}},line:432},'67':{name:'(anonymous_67)',decl:{start:{line:445,column:2},end:{line:445,column:3}},loc:{start:{line:445,column:21},end:{line:526,column:3}},line:445},'68':{name:'(anonymous_68)',decl:{start:{line:449,column:23},end:{line:449,column:24}},loc:{start:{line:449,column:41},end:{line:524,column:5}},line:449},'69':{name:'(anonymous_69)',decl:{start:{line:464,column:96},end:{line:464,column:97}},loc:{start:{line:464,column:104},end:{line:518,column:7}},line:464},'70':{name:'(anonymous_70)',decl:{start:{line:467,column:59},end:{line:467,column:60}},loc:{start:{line:467,column:70},end:{line:513,column:9}},line:467},'71':{name:'(anonymous_71)',decl:{start:{line:472,column:166},end:{line:472,column:167}},loc:{start:{line:472,column:170},end:{line:499,column:13}},line:472},'72':{name:'(anonymous_72)',decl:{start:{line:473,column:99},end:{line:473,column:100}},loc:{start:{line:473,column:103},end:{line:497,column:17}},line:473},'73':{name:'(anonymous_73)',decl:{start:{line:477,column:92},end:{line:477,column:93}},loc:{start:{line:477,column:100},end:{line:495,column:19}},line:477},'74':{name:'(anonymous_74)',decl:{start:{line:483,column:30},end:{line:483,column:31}},loc:{start:{line:483,column:34},end:{line:489,column:23}},line:483},'75':{name:'(anonymous_75)',decl:{start:{line:490,column:29},end:{line:490,column:30}},loc:{start:{line:490,column:36},end:{line:492,column:23}},line:490},'76':{name:'(anonymous_76)',decl:{start:{line:500,column:19},end:{line:500,column:20}},loc:{start:{line:500,column:26},end:{line:502,column:13}},line:500},'77':{name:'(anonymous_77)',decl:{start:{line:505,column:90},end:{line:505,column:91}},loc:{start:{line:505,column:94},end:{line:508,column:13}},line:505},'78':{name:'(anonymous_78)',decl:{start:{line:509,column:19},end:{line:509,column:20}},loc:{start:{line:509,column:26},end:{line:511,column:13}},line:509},'79':{name:'(anonymous_79)',decl:{start:{line:514,column:15},end:{line:514,column:16}},loc:{start:{line:514,column:24},end:{line:516,column:9}},line:514},'80':{name:'(anonymous_80)',decl:{start:{line:519,column:13},end:{line:519,column:14}},loc:{start:{line:519,column:20},end:{line:521,column:7}},line:519}},branchMap:{'0':{loc:{start:{line:19,column:14},end:{line:19,column:27}},type:'default-arg',locations:[{start:{line:19,column:25},end:{line:19,column:27}}],line:19},'1':{loc:{start:{line:54,column:4},end:{line:54,column:54}},type:'if',locations:[{start:{line:54,column:4},end:{line:54,column:54}},{start:{line:54,column:4},end:{line:54,column:54}}],line:54},'2':{loc:{start:{line:117,column:8},end:{line:125,column:9}},type:'if',locations:[{start:{line:117,column:8},end:{line:125,column:9}},{start:{line:117,column:8},end:{line:125,column:9}}],line:117},'3':{loc:{start:{line:175,column:8},end:{line:184,column:9}},type:'if',locations:[{start:{line:175,column:8},end:{line:184,column:9}},{start:{line:175,column:8},end:{line:184,column:9}}],line:175},'4':{loc:{start:{line:206,column:8},end:{line:212,column:9}},type:'if',locations:[{start:{line:206,column:8},end:{line:212,column:9}},{start:{line:206,column:8},end:{line:212,column:9}}],line:206},'5':{loc:{start:{line:206,column:11},end:{line:207,column:51}},type:'binary-expr',locations:[{start:{line:206,column:11},end:{line:206,column:32}},{start:{line:206,column:36},end:{line:206,column:57}},{start:{line:207,column:8},end:{line:207,column:51}}],line:206},'6':{loc:{start:{line:386,column:36},end:{line:386,column:104}},type:'cond-expr',locations:[{start:{line:386,column:58},end:{line:386,column:93}},{start:{line:386,column:94},end:{line:386,column:104}}],line:386},'7':{loc:{start:{line:390,column:6},end:{line:392,column:7}},type:'if',locations:[{start:{line:390,column:6},end:{line:392,column:7}},{start:{line:390,column:6},end:{line:392,column:7}}],line:390},'8':{loc:{start:{line:407,column:14},end:{line:429,column:15}},type:'if',locations:[{start:{line:407,column:14},end:{line:429,column:15}},{start:{line:407,column:14},end:{line:429,column:15}}],line:407},'9':{loc:{start:{line:455,column:36},end:{line:455,column:104}},type:'cond-expr',locations:[{start:{line:455,column:58},end:{line:455,column:93}},{start:{line:455,column:94},end:{line:455,column:104}}],line:455},'10':{loc:{start:{line:460,column:6},end:{line:462,column:7}},type:'if',locations:[{start:{line:460,column:6},end:{line:462,column:7}},{start:{line:460,column:6},end:{line:462,column:7}}],line:460},'11':{loc:{start:{line:471,column:10},end:{line:512,column:11}},type:'if',locations:[{start:{line:471,column:10},end:{line:512,column:11}},{start:{line:471,column:10},end:{line:512,column:11}}],line:471},'12':{loc:{start:{line:478,column:20},end:{line:493,column:21}},type:'if',locations:[{start:{line:478,column:20},end:{line:493,column:21}},{start:{line:478,column:20},end:{line:493,column:21}}],line:478}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0},b:{'0':[0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const Database=(++cov_1e1zkd6vqh.s[0],require('../../db/database'));const File=(++cov_1e1zkd6vqh.s[1],require('../../files/_fileModel'));const DBCommonQueries=(++cov_1e1zkd6vqh.s[2],require('../../db/queries/user/_common.json'));const ClientMicroservice=(++cov_1e1zkd6vqh.s[3],require('../../microservices/client'));++cov_1e1zkd6vqh.s[4];global.CONTROL=require('./control');/**
@class
*/class User{/**
 @constructor
 @param {number} id_usuario - User ID
 @param {object} queries - User's profile queries
 */constructor(id_usuario=(++cov_1e1zkd6vqh.b[0][0],-1),queries){++cov_1e1zkd6vqh.f[0];++cov_1e1zkd6vqh.s[5];this._id_usuario=parseInt(id_usuario);++cov_1e1zkd6vqh.s[6];this._microservice_client=new ClientMicroservice();++cov_1e1zkd6vqh.s[7];this._db_connection=new Database();++cov_1e1zkd6vqh.s[8];this._file=new File();++cov_1e1zkd6vqh.s[9];this._profile_queries=queries;++cov_1e1zkd6vqh.s[10];this._common_queries=DBCommonQueries;}_logOnDB(){++cov_1e1zkd6vqh.f[1];}/**
  Close the connections associated to the user
  @return {null}
  */_close_connections(){++cov_1e1zkd6vqh.f[2];const _self=(++cov_1e1zkd6vqh.s[11],this);++cov_1e1zkd6vqh.s[12];_self._db_connection._close_connection();++cov_1e1zkd6vqh.s[13];_self._file._close_connection();}/**
  Returns the role associated to a specific user ID
  @return {Promise}
  */_get_type_of_user(){++cov_1e1zkd6vqh.f[3];const _self=(++cov_1e1zkd6vqh.s[14],this);++cov_1e1zkd6vqh.s[15];if(_self._id_usuario===-1){++cov_1e1zkd6vqh.b[1][0];++cov_1e1zkd6vqh.s[16];return"Administrador";}else{++cov_1e1zkd6vqh.b[1][1];}++cov_1e1zkd6vqh.s[17];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[4];++cov_1e1zkd6vqh.s[18];// if(global.CONTROL.users[_self._id_usuario]===undefined){
_self.get_user_info().then(result=>{++cov_1e1zkd6vqh.f[5];++cov_1e1zkd6vqh.s[19];_self._microservice_client.send_query(_self._common_queries.GET.type_of_user,{id_perfil:result.id_perfil}).then(data=>{++cov_1e1zkd6vqh.f[6];++cov_1e1zkd6vqh.s[20];resolve(data[0].descripcion);}).catch(err=>{++cov_1e1zkd6vqh.f[7];++cov_1e1zkd6vqh.s[21];reject(err);});}).catch(err=>{++cov_1e1zkd6vqh.f[8];++cov_1e1zkd6vqh.s[22];reject(err);});// }else{
//   resolve(global.CONTROL.users[_self._id_usuario].descripcion);
// }
});}/**
  Download the zip file associated to every content
  @param {string} filename - Route of the file to download
  @param {Response} response - The server response to associate the Buffer of the file to download
  */download_zip(filename,response){++cov_1e1zkd6vqh.f[9];const _self=(++cov_1e1zkd6vqh.s[23],this);++cov_1e1zkd6vqh.s[24];_self._file.downloadFile(filename,response);}/**
  Returns the info relative to each user (name,provider,etc...)
  @return {Promise}
  */get_user_info(){++cov_1e1zkd6vqh.f[10];const _self=(++cov_1e1zkd6vqh.s[25],this);++cov_1e1zkd6vqh.s[26];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[11];++cov_1e1zkd6vqh.s[27];_self._microservice_client.send_query(_self._common_queries.GET.user_info,{id_usuario:_self._id_usuario}).then(data=>{++cov_1e1zkd6vqh.f[12];++cov_1e1zkd6vqh.s[28];resolve(data[0]);}).catch(err=>{++cov_1e1zkd6vqh.f[13];++cov_1e1zkd6vqh.s[29];reject(err);});});}/***
  Returns basic info of the user to be used once the user is already logged
  @param {object} params - Contains the user_id that comes from the form
  @return {Promise}
  */get_login_info(params){++cov_1e1zkd6vqh.f[14];let _self=(++cov_1e1zkd6vqh.s[30],this);++cov_1e1zkd6vqh.s[31];return new Promise(function(resolve,reject){++cov_1e1zkd6vqh.f[15];++cov_1e1zkd6vqh.s[32];_self._microservice_client.send_query(_self._common_queries.GET.login_info,params).then(rows=>{++cov_1e1zkd6vqh.f[16];++cov_1e1zkd6vqh.s[33];if(rows.length===0){++cov_1e1zkd6vqh.b[2][0];++cov_1e1zkd6vqh.s[34];// Si no se encuentra registrado en la base de datos se le devuelve un codigo 401
// indicando que no esta autorizado y el token como null.
reject({token:null});}else{++cov_1e1zkd6vqh.b[2][1];++cov_1e1zkd6vqh.s[35];rows[0].imgAvatar=rows[0].urlAvatar;++cov_1e1zkd6vqh.s[36];resolve({userInfo:rows[0]});}});});}/**
  Returns the extended content info that is used on the edit content page
  @param {number} id_contenido - ID of the content
  @return {Promise}
  */get_content_by_id(id_contenido){++cov_1e1zkd6vqh.f[17];const _self=(++cov_1e1zkd6vqh.s[37],this);++cov_1e1zkd6vqh.s[38];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[18];let arrayPromises=(++cov_1e1zkd6vqh.s[39],[]);++cov_1e1zkd6vqh.s[40];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.content_id,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[41];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.tableOfCompatibilities,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[42];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.content_platforms,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[43];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.content_servers,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[44];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.content_recursos,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[45];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.content_categorias_subcategorias,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[46];arrayPromises.push(_self._microservice_client.send_query(_self._common_queries.GET.content_licencias,{id_contenido:id_contenido}));++cov_1e1zkd6vqh.s[47];Promise.all(arrayPromises).then(values=>{++cov_1e1zkd6vqh.f[19];const content=(++cov_1e1zkd6vqh.s[48],values[0][0]);++cov_1e1zkd6vqh.s[49];content.compatibilities_table=values[1];++cov_1e1zkd6vqh.s[50];content.platforms=values[2];++cov_1e1zkd6vqh.s[51];content.servidores_contenidos=values[3];++cov_1e1zkd6vqh.s[52];content.recursos=values[4];++cov_1e1zkd6vqh.s[53];content.categorias=values[5];++cov_1e1zkd6vqh.s[54];Object.assign(content,values[6][0]);++cov_1e1zkd6vqh.s[55];resolve(content);}).catch(error=>{++cov_1e1zkd6vqh.f[20];++cov_1e1zkd6vqh.s[56];reject(error);});});}/**
  Returns all the contents associated to a provider
  @return {Promise}
  */get_contents(){++cov_1e1zkd6vqh.f[21];const _self=(++cov_1e1zkd6vqh.s[57],this);++cov_1e1zkd6vqh.s[58];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[22];++cov_1e1zkd6vqh.s[59];//Object.keys(global.CONTROL.users[_self._id_usuario]).length===0
_self.get_user_info().then(result=>{++cov_1e1zkd6vqh.f[23];++cov_1e1zkd6vqh.s[60];if(global.CONTROL.proveedor[result.id_proveedor]===undefined){++cov_1e1zkd6vqh.b[3][0];++cov_1e1zkd6vqh.s[61];_self._microservice_client.send_query(_self._profile_queries.GET.contents_proveedor,result).then(data=>{++cov_1e1zkd6vqh.f[24];++cov_1e1zkd6vqh.s[62];global.CONTROL.proveedor[result.id_proveedor]=data;++cov_1e1zkd6vqh.s[63];resolve(data);});}else{++cov_1e1zkd6vqh.b[3][1];++cov_1e1zkd6vqh.s[64];resolve(global.CONTROL.proveedor[result.id_proveedor]);}}).catch(err=>{++cov_1e1zkd6vqh.f[25];++cov_1e1zkd6vqh.s[65];reject(err);});});}/**
  Check if one course is completely certified
  @param {Form} form - Form that contains the info of the content to be checked
  @return {Promise}
  */_check_course_certified(form){++cov_1e1zkd6vqh.f[26];const _self=(++cov_1e1zkd6vqh.s[66],this);++cov_1e1zkd6vqh.s[67];return new Promise(function(resolve,reject){++cov_1e1zkd6vqh.f[27];++cov_1e1zkd6vqh.s[68];_self._microservice_client.send_query(_self._common_queries.GET.course_certified,{id_contenido:form.id_contenido}).then(data=>{++cov_1e1zkd6vqh.f[28];++cov_1e1zkd6vqh.s[69];if((++cov_1e1zkd6vqh.b[5][0],data[0]["count(*)"]>0)&&(++cov_1e1zkd6vqh.b[5][1],data[1]["count(*)"]>0)&&(++cov_1e1zkd6vqh.b[5][2],data[0]["count(*)"]-data[1]["count(*)"]===0)){++cov_1e1zkd6vqh.b[4][0];++cov_1e1zkd6vqh.s[70];// Send email of confirmation
_self._microservice_client.send_email({type:"course_certified",datos_curso:form}).then(()=>{++cov_1e1zkd6vqh.f[29];++cov_1e1zkd6vqh.s[71];resolve(true);});}else{++cov_1e1zkd6vqh.b[4][1];}}).catch(error=>{++cov_1e1zkd6vqh.f[30];++cov_1e1zkd6vqh.s[72];reject(error);});});}/**
  Returns all the contents associated to the catalog
  @return {Promise}
  */get_catalogo(){++cov_1e1zkd6vqh.f[31];const _self=(++cov_1e1zkd6vqh.s[73],this);++cov_1e1zkd6vqh.s[74];return new Promise(function(resolve,reject){++cov_1e1zkd6vqh.f[32];++cov_1e1zkd6vqh.s[75];_self._microservice_client.send_query(_self._common_queries.GET.content_catalogo).then(data=>{++cov_1e1zkd6vqh.f[33];++cov_1e1zkd6vqh.s[76];resolve(data);}).catch(error=>{++cov_1e1zkd6vqh.f[34];++cov_1e1zkd6vqh.s[77];reject(error);});});}/**
  Loads all the generic info relative to the application
  @return {Promise}
  */get_platform_generic_info(){++cov_1e1zkd6vqh.f[35];const _self=(++cov_1e1zkd6vqh.s[78],this);++cov_1e1zkd6vqh.s[79];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[36];++cov_1e1zkd6vqh.s[80];_self._microservice_client.send_query(_self._profile_queries.GET.generic_information,null).then(data=>{++cov_1e1zkd6vqh.f[37];let generic_info=(++cov_1e1zkd6vqh.s[81],{platforms:data[0],evaluationSystems:data[1],contentTypes:data[2],states:data[3],tabla_compatibilidades:data[4],educationLevels:data[5],exploitedRights:data[6],tipoProveedores:data[7],proyectos:data[8],idiomas:data[9],puntos_control:data[10],valores_certificacion:data[11],tecnologias:data[12],tipo_desarrollo:data[13],servidores_contenidos:data[14],proveedores:data[15],categorias:data[16],habilidades:data[17],recursos:data[18]});let arrayPromisesSubcategories=(++cov_1e1zkd6vqh.s[82],[]);++cov_1e1zkd6vqh.s[83];for(let i=0;i<generic_info.categorias.length;i++){++cov_1e1zkd6vqh.s[84];arrayPromisesSubcategories[i]=_self._microservice_client.send_query(_self._common_queries.GET.subcategorias,generic_info.categorias[i]);}++cov_1e1zkd6vqh.s[85];Promise.all(arrayPromisesSubcategories).then(values=>{++cov_1e1zkd6vqh.f[38];++cov_1e1zkd6vqh.s[86];for(let i=0;i<generic_info.categorias.length;i++){++cov_1e1zkd6vqh.s[87];generic_info.categorias[i].subcategorias=values[i];}++cov_1e1zkd6vqh.s[88];_self._close_connections();++cov_1e1zkd6vqh.s[89];resolve(generic_info);}).catch(err=>{++cov_1e1zkd6vqh.f[39];++cov_1e1zkd6vqh.s[90];reject(err);});}).catch(err=>{++cov_1e1zkd6vqh.f[40];++cov_1e1zkd6vqh.s[91];reject(err);});});}/**
  Returns the user's avatar using base64 codification
  @param {string} filename - Route of the avatar on the FTP
  @return {Promise}
  */get_avatar(filename){++cov_1e1zkd6vqh.f[41];const _self=(++cov_1e1zkd6vqh.s[92],this);++cov_1e1zkd6vqh.s[93];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[42];++cov_1e1zkd6vqh.s[94];_self._file.downloadImageInBase64(filename).then(data=>{++cov_1e1zkd6vqh.f[43];++cov_1e1zkd6vqh.s[95];resolve(data);}).catch(err=>{++cov_1e1zkd6vqh.f[44];++cov_1e1zkd6vqh.s[96];reject(err);});});}/**
  Method used to modify the user avatar
  @param {Form} form - Form that contains all the user info
  @param {File} file - File to be upload
  @return {Promise}
  */modify_avatar(form){++cov_1e1zkd6vqh.f[45];const _self=(++cov_1e1zkd6vqh.s[97],this);++cov_1e1zkd6vqh.s[98];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[46];++cov_1e1zkd6vqh.s[99];_self._microservice_client.send_query(_self._common_queries.UPDATE.avatar,form).then(data=>{++cov_1e1zkd6vqh.f[47];++cov_1e1zkd6vqh.s[100];_self._id_usuario=form.id_usuario;++cov_1e1zkd6vqh.s[101];_self._logOnDB("user.modify_avatar");++cov_1e1zkd6vqh.s[102];resolve(true);}).catch(error=>{++cov_1e1zkd6vqh.f[48];++cov_1e1zkd6vqh.s[103];reject(error);});});}/**
  Method used to modify the personal info of the user
  @param {object} form - Form that contains all the user info
  @return {Promise}
  */modify_personal_info(form){++cov_1e1zkd6vqh.f[49];const _self=(++cov_1e1zkd6vqh.s[104],this);++cov_1e1zkd6vqh.s[105];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[50];++cov_1e1zkd6vqh.s[106];_self._microservice_client.send_query(_self._common_queries.UPDATE.personalInfo,form).then(()=>{++cov_1e1zkd6vqh.f[51];++cov_1e1zkd6vqh.s[107];_self._logOnDB("user.modify_info");++cov_1e1zkd6vqh.s[108];resolve(true);}).catch(err=>{++cov_1e1zkd6vqh.f[52];++cov_1e1zkd6vqh.s[109];reject(err);});});}/**
  Method used to modify the password of the user
  @param {object} fields - Form that contains all the user info
  @return {Promise}
  */modify_password(fields){++cov_1e1zkd6vqh.f[53];const _self=(++cov_1e1zkd6vqh.s[110],this);++cov_1e1zkd6vqh.s[111];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[54];++cov_1e1zkd6vqh.s[112];_self._microservice_client.send_query(_self._common_queries.UPDATE.password,fields).then(()=>{++cov_1e1zkd6vqh.f[55];++cov_1e1zkd6vqh.s[113];_self._logOnDB("user.modify_password");++cov_1e1zkd6vqh.s[114];resolve(true);}).catch(err=>{++cov_1e1zkd6vqh.f[56];++cov_1e1zkd6vqh.s[115];reject(err);});});}/**
  IMPORTANT! This method creates a new course on the platform.
  @param {Form} form - Form that contains all the info of the new course, among the
  @return {Promise}
  */create_course(form){++cov_1e1zkd6vqh.f[57];const _self=(++cov_1e1zkd6vqh.s[116],this);++cov_1e1zkd6vqh.s[117];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[58];++cov_1e1zkd6vqh.s[118];form["multiple_insert_query"]=eval("["+form.tableTechnologies+"]");++cov_1e1zkd6vqh.s[119];form["table_platforms"]=eval("["+form.tablePlatforms+"]");++cov_1e1zkd6vqh.s[120];form["servidores_contenidos"]=form['tableServCont']?(++cov_1e1zkd6vqh.b[6][0],eval("["+form['tableServCont']+"]")):(++cov_1e1zkd6vqh.b[6][1],eval("[]"));++cov_1e1zkd6vqh.s[121];form["recursos"]=eval("["+form["tableRecursos"]+"]");++cov_1e1zkd6vqh.s[122];form["categorias"]=eval(form["categorias"]);++cov_1e1zkd6vqh.s[123];if(form['catalogo_ted']==1){++cov_1e1zkd6vqh.b[7][0];++cov_1e1zkd6vqh.s[124];global.CONTROL.catalogo=[];}else{++cov_1e1zkd6vqh.b[7][1];}++cov_1e1zkd6vqh.s[125];_self._microservice_client.send_query(_self._common_queries.GET.info_proveedor,form).then(data=>{++cov_1e1zkd6vqh.f[59];++cov_1e1zkd6vqh.s[126];form['carpeta_proveedor']=data[0].carpeta_proveedor;++cov_1e1zkd6vqh.s[127];_self._file.uploadContentFile(form['file_to_upload'],form,_self._file._config.fileUpload.directory,_self._file._config.fileUpload.extensionsAllowed).then(()=>{++cov_1e1zkd6vqh.f[60];++cov_1e1zkd6vqh.s[128];_self._db_connection.insert_new_content(form,_self._profile_queries).then(()=>{++cov_1e1zkd6vqh.f[61];++cov_1e1zkd6vqh.s[129];global.CONTROL.proveedor[form['id_proveedor']]=undefined;++cov_1e1zkd6vqh.s[130];_self._file._ftp.extractZIP(form['file_to_upload'],form['ruta_zip']).then(data=>{++cov_1e1zkd6vqh.f[62];++cov_1e1zkd6vqh.s[131];if(data){++cov_1e1zkd6vqh.b[8][0];++cov_1e1zkd6vqh.s[132];form['rutaEjecucion']=data;++cov_1e1zkd6vqh.s[133];_self._microservice_client.send_query(_self._profile_queries.UPDATE.rutaEjecucion,{rutaEjecucion:form['rutaEjecucion'],id_contenido:form['id_contenido']}).then(()=>{++cov_1e1zkd6vqh.f[63];++cov_1e1zkd6vqh.s[134];_self._microservice_client.send_email({type:"new_course",datos_curso:form}).then(()=>{++cov_1e1zkd6vqh.f[64];++cov_1e1zkd6vqh.s[135];_self._check_course_certified(form).then(()=>{++cov_1e1zkd6vqh.f[65];++cov_1e1zkd6vqh.s[136];_self._close_connections();});});});}else{++cov_1e1zkd6vqh.b[8][1];}});++cov_1e1zkd6vqh.s[137];resolve(true);}).catch(error=>{++cov_1e1zkd6vqh.f[66];++cov_1e1zkd6vqh.s[138];console.error(error);++cov_1e1zkd6vqh.s[139];reject(error);});});});});}modify_course(form){++cov_1e1zkd6vqh.f[67];const _self=(++cov_1e1zkd6vqh.s[140],this);++cov_1e1zkd6vqh.s[141];return new Promise((resolve,reject)=>{++cov_1e1zkd6vqh.f[68];++cov_1e1zkd6vqh.s[142];// Once the form is parsed, we call the "close" function to send back the response
form["fecha_alta"]=_self._file._returnActualDate();++cov_1e1zkd6vqh.s[143];form["multiple_insert_query"]=eval("["+form.tableTechnologies+"]");++cov_1e1zkd6vqh.s[144];form["table_platforms"]=eval("["+form.tablePlatforms+"]");++cov_1e1zkd6vqh.s[145];form["servidores_contenidos"]=form['tableServCont']?(++cov_1e1zkd6vqh.b[9][0],eval("["+form['tableServCont']+"]")):(++cov_1e1zkd6vqh.b[9][1],eval("[]"));++cov_1e1zkd6vqh.s[146];form["recursos"]=eval("["+form["tableRecursos"]+"]");++cov_1e1zkd6vqh.s[147];form["categorias"]=eval(form["categorias"]);++cov_1e1zkd6vqh.s[148];if(form["catalogo_ted"]==1){++cov_1e1zkd6vqh.b[10][0];++cov_1e1zkd6vqh.s[149];global.CONTROL.catalogo=[];}else{++cov_1e1zkd6vqh.b[10][1];}++cov_1e1zkd6vqh.s[150];_self._microservice_client.send_query(_self._common_queries.GET.info_proveedor,form).then(data=>{++cov_1e1zkd6vqh.f[69];++cov_1e1zkd6vqh.s[151];form["carpeta_proveedor"]=data[0].carpeta_proveedor;// Si le pasamos el fichero para subir, el proceso es el mismo que el de creacion, pero haciendo update en vez de insert en la base de datos
++cov_1e1zkd6vqh.s[152];_self.get_content_by_id(form["id_contenido"]).then(content=>{++cov_1e1zkd6vqh.f[70];++cov_1e1zkd6vqh.s[153];global.CONTROL.proveedor[form['id_proveedor']]=undefined;++cov_1e1zkd6vqh.s[154];if(form['file_to_upload']){++cov_1e1zkd6vqh.b[11][0];++cov_1e1zkd6vqh.s[155];_self._file.uploadContentFile(form['file_to_upload'],form,_self._file._config.fileUpload.directory,_self._file._config.fileUpload.extensionsAllowed).then(()=>{++cov_1e1zkd6vqh.f[71];++cov_1e1zkd6vqh.s[156];_self._db_connection.update_content(content,_self._profile_queries,form,true).then(()=>{++cov_1e1zkd6vqh.f[72];++cov_1e1zkd6vqh.s[157];_self._file._ftp.extractZIP(form['file_to_upload'],form['ruta_zip']).then(data=>{++cov_1e1zkd6vqh.f[73];++cov_1e1zkd6vqh.s[158];if(data){++cov_1e1zkd6vqh.b[12][0];++cov_1e1zkd6vqh.s[159];form['rutaEjecucion']=data;++cov_1e1zkd6vqh.s[160];_self._microservice_client.send_query(_self._profile_queries.UPDATE.rutaEjecucion,{rutaEjecucion:"http://"+form['rutaEjecucion'],id_contenido:form['id_contenido']}).then(()=>{++cov_1e1zkd6vqh.f[74];++cov_1e1zkd6vqh.s[161];_self._microservice_client.send_email("upload_course");++cov_1e1zkd6vqh.s[162];_self._db_connection._close_connection();}).catch(err=>{++cov_1e1zkd6vqh.f[75];++cov_1e1zkd6vqh.s[163];console.log(err);});}else{++cov_1e1zkd6vqh.b[12][1];}});++cov_1e1zkd6vqh.s[164];resolve(true);});}).catch(err=>{++cov_1e1zkd6vqh.f[76];++cov_1e1zkd6vqh.s[165];reject(err);});}else{++cov_1e1zkd6vqh.b[11][1];++cov_1e1zkd6vqh.s[166];// Si no le pasamos un fichero, tenemos que mantener la misma ruta del zip que ya hay hasta el momento
_self._db_connection.update_content(content,_self._profile_queries,form).then(()=>{++cov_1e1zkd6vqh.f[77];++cov_1e1zkd6vqh.s[167];resolve(true);}).catch(err=>{++cov_1e1zkd6vqh.f[78];++cov_1e1zkd6vqh.s[168];reject(err);});}}).catch(error=>{++cov_1e1zkd6vqh.f[79];++cov_1e1zkd6vqh.s[169];reject(error);});}).catch(err=>{++cov_1e1zkd6vqh.f[80];++cov_1e1zkd6vqh.s[170];reject(err);});});}//END OF THE USER CLASS --> DONT TOUCH THE BRACKET
}++cov_1e1zkd6vqh.s[171];module.exports=User;