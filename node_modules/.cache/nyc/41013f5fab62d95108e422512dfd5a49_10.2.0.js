var cov_2nsk7ylixk=function(){var path='/Users/je10617/Desktop/express-authenticate/microservices/index.js',hash='74629a5335011507f8ac6b28d453df7a9f0133ce',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/je10617/Desktop/express-authenticate/microservices/index.js',statementMap:{'0':{start:{line:1,column:14},end:{line:1,column:44}},'1':{start:{line:2,column:9},end:{line:2,column:22}},'2':{start:{line:3,column:11},end:{line:3,column:13}},'3':{start:{line:4,column:0},end:{line:8,column:1}},'4':{start:{line:5,column:2},end:{line:5,column:59}},'5':{start:{line:7,column:2},end:{line:7,column:34}},'6':{start:{line:15,column:4},end:{line:15,column:66}},'7':{start:{line:16,column:4},end:{line:16,column:47}},'8':{start:{line:17,column:4},end:{line:17,column:66}},'9':{start:{line:22,column:16},end:{line:22,column:20}},'10':{start:{line:23,column:29},end:{line:23,column:53}},'11':{start:{line:24,column:28},end:{line:24,column:30}},'12':{start:{line:26,column:4},end:{line:34,column:7}},'13':{start:{line:27,column:6},end:{line:29,column:9}},'14':{start:{line:28,column:8},end:{line:28,column:45}},'15':{start:{line:31,column:6},end:{line:33,column:7}},'16':{start:{line:32,column:8},end:{line:32,column:77}},'17':{start:{line:40,column:14},end:{line:40,column:34}},'18':{start:{line:42,column:16},end:{line:42,column:20}},'19':{start:{line:43,column:4},end:{line:45,column:7}},'20':{start:{line:44,column:6},end:{line:44,column:35}},'21':{start:{line:47,column:4},end:{line:50,column:7}},'22':{start:{line:52,column:4},end:{line:58,column:7}},'23':{start:{line:53,column:6},end:{line:57,column:7}},'24':{start:{line:54,column:8},end:{line:54,column:33}},'25':{start:{line:55,column:8},end:{line:55,column:17}},'26':{start:{line:56,column:8},end:{line:56,column:34}},'27':{start:{line:62,column:0},end:{line:62,column:35}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:16},end:{line:18,column:3}},line:13},'1':{name:'(anonymous_1)',decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:18},end:{line:35,column:3}},line:21},'2':{name:'(anonymous_2)',decl:{start:{line:26,column:36},end:{line:26,column:37}},loc:{start:{line:26,column:49},end:{line:34,column:5}},line:26},'3':{name:'(anonymous_3)',decl:{start:{line:27,column:39},end:{line:27,column:40}},loc:{start:{line:27,column:53},end:{line:29,column:7}},line:27},'4':{name:'(anonymous_4)',decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:21},end:{line:59,column:3}},line:39},'5':{name:'(anonymous_5)',decl:{start:{line:43,column:26},end:{line:43,column:27}},loc:{start:{line:43,column:36},end:{line:45,column:5}},line:43},'6':{name:'(anonymous_6)',decl:{start:{line:47,column:26},end:{line:47,column:27}},loc:{start:{line:47,column:36},end:{line:50,column:5}},line:47},'7':{name:'(anonymous_7)',decl:{start:{line:52,column:21},end:{line:52,column:22}},loc:{start:{line:52,column:31},end:{line:58,column:5}},line:52}},branchMap:{'0':{loc:{start:{line:4,column:0},end:{line:8,column:1}},type:'if',locations:[{start:{line:4,column:0},end:{line:8,column:1}},{start:{line:4,column:0},end:{line:8,column:1}}],line:4},'1':{loc:{start:{line:53,column:6},end:{line:57,column:7}},type:'if',locations:[{start:{line:53,column:6},end:{line:57,column:7}},{start:{line:53,column:6},end:{line:57,column:7}}],line:53}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0},b:{'0':[0,0],'1':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const spawn=(++cov_2nsk7ylixk.s[0],require('child_process').spawn);const fs=(++cov_2nsk7ylixk.s[1],require('fs'));let CONFIG=(++cov_2nsk7ylixk.s[2],{});++cov_2nsk7ylixk.s[3];if(process.env.NODE_ENV==='test'){++cov_2nsk7ylixk.b[0][0];++cov_2nsk7ylixk.s[4];CONFIG=require('../test/microservices_config_test.json');}else{++cov_2nsk7ylixk.b[0][1];++cov_2nsk7ylixk.s[5];CONFIG=require('./config.json');}class Microservices{constructor(){++cov_2nsk7ylixk.f[0];++cov_2nsk7ylixk.s[6];console.log("***********   [MICROSERVICES] ****************");++cov_2nsk7ylixk.s[7];console.log("Inside the microservices...");++cov_2nsk7ylixk.s[8];console.log("**********************************************");}runAllServices(){++cov_2nsk7ylixk.f[1];const _self=(++cov_2nsk7ylixk.s[9],this);const regular_expression=(++cov_2nsk7ylixk.s[10],/.*_microservice(\.js)$/);let microservices_files=(++cov_2nsk7ylixk.s[11],[]);++cov_2nsk7ylixk.s[12];fs.readdir(CONFIG.main_conf.dir,(err,files)=>{++cov_2nsk7ylixk.f[2];++cov_2nsk7ylixk.s[13];microservices_files=files.filter(function(file){++cov_2nsk7ylixk.f[3];++cov_2nsk7ylixk.s[14];return regular_expression.test(file);});++cov_2nsk7ylixk.s[15];for(let i=0;i<microservices_files.length;i++){++cov_2nsk7ylixk.s[16];_self._startProcess(CONFIG.main_conf.dir+"/"+microservices_files[i]);}});}_startProcess(file){++cov_2nsk7ylixk.f[4];let bat=(++cov_2nsk7ylixk.s[17],spawn('node',[file]));const _self=(++cov_2nsk7ylixk.s[18],this);++cov_2nsk7ylixk.s[19];bat.stdout.on('data',data=>{++cov_2nsk7ylixk.f[5];++cov_2nsk7ylixk.s[20];console.log(data.toString());});++cov_2nsk7ylixk.s[21];bat.stderr.on('data',data=>{//console.error(`[SENECA FILE]  ${file}`);
//console.error(`[ERROR]  ${data.toString()}`);
++cov_2nsk7ylixk.f[6];});++cov_2nsk7ylixk.s[22];bat.once('exit',code=>{++cov_2nsk7ylixk.f[7];++cov_2nsk7ylixk.s[23];if(code===1){++cov_2nsk7ylixk.b[1][0];++cov_2nsk7ylixk.s[24];bat.removeAllListeners();++cov_2nsk7ylixk.s[25];bat=null;++cov_2nsk7ylixk.s[26];_self._startProcess(file);}else{++cov_2nsk7ylixk.b[1][1];}});}}++cov_2nsk7ylixk.s[27];module.exports=new Microservices();